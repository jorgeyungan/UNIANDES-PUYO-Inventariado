<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./administrador.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
        <h:form id="frmEquipo">
            <p:panel id="pnlEquipo" header="Ordenador">
                    <p:dataTable 
                        id="tblEquipo" 
                        var="equi" 
                        value="#{ccEquipo.lista}"
                        selectionMode="single"
                        selection="#{ccEquipo.selectedEquipo}"
                        rowKey="#{equi.idequipo}"
                rows="8" paginator="true" 
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="6,12,16">
                        <f:facet name="header">
                            Datos del Ordenadores
                        </f:facet>
                        <p:column headerText="Ubicacion" style="width: 55px;text-align: center">
                            <h:outputText value="#{equi.idubicacion.laboratorio}" />
                        </p:column>
                        <p:column headerText="Codigo" style="width: 55px;text-align: center">
                            <h:outputText value="#{equi.codigo}" />
                        </p:column>
                        <p:column headerText="Marca">
                            <h:outputText value="#{equi.marca}" />
                        </p:column>
                        <p:column headerText="Tipo">
                            <h:outputText value="#{equi.tipo}" />
                        </p:column>
                        <p:column headerText="Procesador">
                            <h:outputText value="#{equi.procesador}" />
                        </p:column>
                        <p:column headerText="Mother Board">
                            <h:outputText value="#{equi.motherboard}" />
                        </p:column>
                        <p:column headerText="Disco Duro">
                            <h:outputText value="#{equi.disco_duro}" />
                        </p:column>
                        <p:column headerText="Ram">
                            <h:outputText value="#{equi.ram}" />
                        </p:column>                        
                        <p:column headerText="Card R/W" >
                            <h:outputText value="#{equi.card_rw}" />
                        </p:column>
                    </p:dataTable>
                    <p:dataTable 
                        var="equi" 
                        value="#{ccEquipo.lista}"
                        selectionMode="single"
                        selection="#{ccEquipo.selectedEquipo}"
                        rowKey="#{equi.idequipo}"
                rows="8" paginator="true" 
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="6,12,16">
                        <f:facet name="header">
                            Caracteristicas
                        </f:facet>
                        <p:column headerText="Codigo" style="width: 55px;text-align: center">
                            <h:outputText value="#{equi.codigo}" />
                        </p:column>
                        <p:column headerText="Unidad Optica">
                            <h:outputText value="#{equi.unidad_optica}" />
                        </p:column>
                        <p:column headerText="Numero Puertos">
                            <h:outputText value="#{equi.numero_puertos}" />
                        </p:column>
                        <p:column headerText="Tipo Puertos">
                            <h:outputText value="#{equi.tipo_puertos}" />
                        </p:column>
                        <p:column headerText="Año Fabrica">
                            <h:outputText value="#{equi.año_fabrica}" />
                        </p:column>
                        <p:column headerText="Vida Util">
                            <h:outputText value="#{equi.vida_util}" />
                        </p:column>
                        <p:column headerText="Acceso Internet">
                            <h:outputText value="#{equi.acceso_internet}" />
                        </p:column>
                        <p:column headerText="Estado">
                            <h:outputText value="#{equi.estado}" />
                        </p:column>
                        <p:column headerText="Fecha Compra">
                            <h:outputText value="#{equi.fecha_compra}" />
                        </p:column>
                        <p:column headerText="Administrable">
                            <h:outputText value="#{equi.administrable}" />
                        </p:column>
                    </p:dataTable>          
                <p:commandButton id="btnNuevo" value="Nuevo" oncomplete="PF('wdlgNuevo').show();"  />
                <p:commandButton id="btnModificar" value="Modificar" oncomplete="PF('wdlgModificar').show();" update=":frmModificarEquipo"/>
            </p:panel>
        </h:form>
        <p:dialog 
            id="dlgAgregar" 
            header="Nuevo Equipo"
            widgetVar="wdlgNuevo" 
            modal="true"
            resizable="false" 
            showEffect="clip"
            hideEffect="fold">
            <h:form id="frmNuevoEquipo">
                <p:panel id="pnlUbicacion">
            <p:dataTable 
                id="basicDT" 
                var="ubi" 
                value="#{ccUbicacion.lista}"
                selectionMode="single"
                selection="#{ccEquipo.selectedUbicacion}"
                rowKey="#{ubi.idubicacion}"
                rows="5" paginator="true" 
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="5,10,15">
                <f:facet name="header">
                    UBICACION
                </f:facet>
                <p:column headerText="codigo" style="width: 55px;text-align: center">
                    <h:outputText value="#{ubi.idubicacion}" />
                </p:column>
                <p:column headerText="Edificio">
                    <h:outputText value="#{ubi.edificio}" />
                </p:column>
                <p:column headerText="Piso">
                    <h:outputText value="#{ubi.piso}" />
                </p:column>
                <p:column headerText="Carrera">
                    <h:outputText value="#{ubi.carrera}" />
                </p:column>
                <p:column headerText="Laboratorio">
                    <h:outputText value="#{ubi.laboratorio}" />
                </p:column>
                <p:column headerText="Dependencia">
                    <h:outputText value="#{ubi.dependencia}" />
                </p:column>
                <p:column headerText="Nombre">
                    <h:outputText value="#{ubi.idusuario.nombre}" />
                </p:column>
                <p:column headerText="Apellido">
                    <h:outputText value="#{ubi.idusuario.apellido}" />
                </p:column>
            </p:dataTable>
                </p:panel>
                <p:panel header="Datos del Ordenador">
                    <h:panelGrid >
                        <p:outputLabel value="Marca: ">
                            <p:inputText style="width:300px"
                                         value="#{ccEquipo.newEquipo.marca}"/>

                        </p:outputLabel>
                        <p:outputLabel value=" Serie: ">
                            <p:inputText style="width:300px"
                                         value="#{ccEquipo.newEquipo.codigo}"/>    
                            <p:outputLabel value=" Tipo: "/>
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.newEquipo.tipo}"/>
                        </p:outputLabel>
                    </h:panelGrid>
                </p:panel>  
                <p:panel header="Caracteristicas">
                    <h:panelGrid >
                        <p:outputLabel value="Procesador:  ">
                            <p:inputText style="width:150px" 
                                         value="#{ccEquipo.newEquipo.procesador}"/>
                            <p:outputLabel value=" RAM: "/>
                            <p:inputText style="width:100px"
                                           value="#{ccEquipo.newEquipo.ram}"/>
                            <p:outputLabel value="Disco Duro:  "/>
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.newEquipo.disco_duro}"/>
                        </p:outputLabel>
                        <p:outputLabel value="MotherBoard:  ">
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.newEquipo.motherboard}"/>
                            <p:outputLabel value=" Card R/W: " />
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.newEquipo.card_rw}"/>
                        </p:outputLabel>
                        <p:outputLabel  value=" Unidad Optica: ">
                            <p:inputText style="width:150px"
                                         
                                         value="#{ccEquipo.newEquipo.unidad_optica}"/>
                            <p:outputLabel value="Tipo Puertos: "/>
                            <p:inputText style="width:150px"
                                         value="#{ccEquipo.newEquipo.tipo_puertos}"/>
                            <p:outputLabel value="numero Puertos: "/>
                            <p:inputText style="width:150px"
                                         value="#{ccEquipo.newEquipo.numero_puertos}"/>
                        </p:outputLabel>
                    </h:panelGrid>
                </p:panel>
                <p:panel header="Detalles">
                    <h:panelGrid >
                        <p:outputLabel  value="Año Fabrica: ">
                            <p:inputMask value="#{ccEquipo.newEquipo.año_fabrica}" mask="9999/99/99"/>
                            <p:outputLabel  value=" Fecha Compra: "/>
                            <p:inputMask value="#{ccEquipo.newEquipo.fecha_compra}" mask="9999/99/99"/>
                        </p:outputLabel>
                        <p:outputLabel value="Vida Util: ">
                            <p:inputText
                                value="#{ccEquipo.newEquipo.vida_util}"/>
                            <p:outputLabel value=" Estado:"  />
                            <p:autoComplete dropdown="true" value="#{ccEquipo.newEquipo.estado}" completeMethod="#{itembeans.completeText(query)}" />
                        </p:outputLabel>
                        <h:outputLabel value="Acceso Internet: " >
                            <p:autoComplete dropdown="true" value="#{ccEquipo.newEquipo.acceso_internet}" completeMethod="#{si_no.completeText(query)}" />
                            <h:outputLabel value=" Administrable: " />
                            <p:autoComplete dropdown="true" value="#{ccEquipo.newEquipo.administrable}" completeMethod="#{si_no.completeText(query)}" />
                        </h:outputLabel>
                    </h:panelGrid>
                </p:panel>
                <p:commandButton 
                    value="Ingresar"
                    action="#{ccEquipo.insertar()}"
                    update=":frmEquipo:pnlEquipo: frmNuevoEquipo" 
                    onclick="wdlgNuevo.hide();"/>                
                <p:commandButton 
                    value="Cancelar"
                    immediate="true"
                    oncomplete="PF('wdlgNuevo').hide();"
                    type="reset"/>
                
            </h:form>
            
        </p:dialog>
                
        <p:dialog 
            id="dlgModificar" 
            header="Modificar Equipo"
            widgetVar="wdlgModificar" 
            modal="true"
            resizable="false" 
            showEffect="clip"
            hideEffect="fold">
            <h:form id="frmModificarEquipo">
                <p:panel header="Datos del Ordenador">
                    <h:panelGrid >
                        <p:outputLabel value="Codigo: ">
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.selectedEquipo.idequipo}"/>
                            <p:outputLabel value="Ubicacion: "/>
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.selectedEquipo.idubicacion.idubicacion}"/>
                            <p:outputLabel value="Marca: "/>
                            <p:inputText style="width:300px"
                                         value="#{ccEquipo.selectedEquipo.marca}"/>

                        </p:outputLabel>
                        <p:outputLabel value=" Serie: ">
                            <p:inputText style="width:300px"
                                         value="#{ccEquipo.selectedEquipo.codigo}"/>    
                            <p:outputLabel value=" Tipo: "/>
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.selectedEquipo.tipo}"/>
                        </p:outputLabel>
                    </h:panelGrid>
                </p:panel>  
                <p:panel header="Caracteristicas">
                    <h:panelGrid >
                        <p:outputLabel value="Procesador:  ">
                            <p:inputText style="width:150px" 
                                         value="#{ccEquipo.selectedEquipo.procesador}"/>
                            <p:outputLabel value=" RAM: "/>
                            <p:inputText style="width:100px"
                                           value="#{ccEquipo.selectedEquipo.ram}"/>
                            <p:outputLabel value="Disco Duro:  "/>
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.selectedEquipo.disco_duro}"/>
                        </p:outputLabel>
                        <p:outputLabel value="MotherBoard:  ">
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.selectedEquipo.motherboard}"/>
                            <p:outputLabel value=" Card R/W: " />
                            <p:inputText style="width:100px"
                                         value="#{ccEquipo.selectedEquipo.card_rw}"/>
                        </p:outputLabel>
                        <p:outputLabel  value=" Unidad Optica: ">
                            <p:inputText style="width:150px"
                                         
                                         value="#{ccEquipo.selectedEquipo.unidad_optica}"/>
                            <p:outputLabel value="Tipo Puertos: "/>
                            <p:inputText style="width:150px"
                                         value="#{ccEquipo.selectedEquipo.tipo_puertos}"/>
                        </p:outputLabel>
                    </h:panelGrid>
                </p:panel>
                <p:panel header="Detalles">
                    <h:panelGrid >
                        <p:outputLabel  value="Año Fabrica: ">
                            <p:inputText
                                value="#{ccEquipo.selectedEquipo.año_fabrica}"/>
                            <p:outputLabel  value=" Fecha Compra: "/>
                            <p:inputText
                                value="#{ccEquipo.selectedEquipo.fecha_compra}"/>
                            </p:outputLabel>
                        <p:outputLabel value="Vida Util: ">
                            <p:inputText
                                value="#{ccEquipo.selectedEquipo.vida_util}"/>
                            <p:outputLabel value=" Estado:"  />
                            <p:autoComplete dropdown="true" value="#{ccEquipo.selectedEquipo.estado}" completeMethod="#{itembeans.completeText(query)}" />
                        </p:outputLabel>
                        <h:outputLabel value="Acceso Internet: " >
                            <p:autoComplete dropdown="true" value="#{ccEquipo.selectedEquipo.acceso_internet}" completeMethod="#{si_no.completeText(query)}" />
                            <h:outputLabel value=" Administrable: " />
                            <p:autoComplete dropdown="true" value="#{ccEquipo.selectedEquipo.administrable}" completeMethod="#{si_no.completeText(query)}" />
                        </h:outputLabel>
                    </h:panelGrid>
                </p:panel>
                <p:commandButton 
                    value="Modificar"
                    action="#{ccEquipo.actualizar()}"
                    update=":frmEquipo:pnlEquipo: frmModificarEquipo"
                    onclick="wdlgModificar.hide()"/>
                <p:commandButton 
                    value="Cancelar" 
                    onclick="wdlgModificar.hide()"
                    type="reset" />
                
            </h:form>
        </p:dialog>
    </ui:define>

</ui:composition>
